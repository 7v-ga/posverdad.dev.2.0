[pytest]
# Ejecuta siempre con cobertura del paquete
addopts = -q --maxfail=1 --durations=10 --cov=scrapy_project --cov-report=term-missing:skip-covered

# Limita la búsqueda de tests a esta carpeta
testpaths = tests

# Registra marcadores (evita PytestUnknownMarkWarning)
markers =
    unit: tests rápidos, sin red ni DB, con mocks/fakes
    integration: tests de integración (pipeline/DB/red, idealmente mockeado)

# Filtros de warnings ruidosos de terceros
filterwarnings =
    ignore::DeprecationWarning:typer
    ignore::DeprecationWarning:spacy
    ignore::DeprecationWarning:weasel
    ignore:.*clean_up_tokenization_spaces.*:FutureWarning:transformers
    ignore::DeprecationWarning:pkg_resources
    ignore::DeprecationWarning:setuptools
